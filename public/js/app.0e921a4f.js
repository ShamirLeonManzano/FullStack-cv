(function(t){function e(e){for(var a,r,n=e[0],c=e[1],l=e[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);m&&m(e);while(u.length)u.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],a=!0,r=1;r<o.length;r++){var c=o[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=o[0]))}return t}var a={},s={app:0},i=[];function r(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"d14fd4ec","chunk-2d216257":"0dda91fa","chunk-44582c80":"c19eb687"}[t]+".js"}function n(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.e=function(t){var e=[],o=s[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=s[t]=[e,a]}));e.push(o[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=r(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(d);var o=s[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}s[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=a,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var m=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"19b1":function(t,e,o){"use strict";o("5fba")},4678:function(t,e,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return o(e)}function i(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="4678"},"4d89":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("v-main",[o("router-view")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{attrs:{color:"#04253a",dark:"",prominent:"",height:"50px"}},[o("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(e){return t.salir()}}},[t._v("Salir"),o("v-icon",[t._v("mdi-logout")])],1)],1),o("v-navigation-drawer",{attrs:{absolute:"",bottom:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list",{attrs:{nav:"",dense:""}},[o("v-list-item-group",{model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},["ADMIN_ROL"==this.$store.state.rol||"ALMACENISTA_ROL"==this.$store.state.rol||"VENDEDOR_ROL"==this.$store.state.rol?[o("v-list-group",[o("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"#04253a",left:""}},[t._v("inventory")]),t._v(" Almacén ")],1)],1)],1),o("v-list-item",{attrs:{to:"/categorias"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Categorias ")],1)],1)],1),o("v-list-item",{attrs:{to:"/articulos"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Articulos ")],1)],1)],1)],1)]:t._e(),"ADMIN_ROL"==this.$store.state.rol||"ALMACENISTA_ROL"==this.$store.state.rol?[o("v-list-group",[o("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"#04253a",left:""}},[t._v("shopping_cart")]),t._v(" Compras ")],1)],1)],1),o("v-list-item",{attrs:{to:"/ingresos"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Ingresos ")],1)],1)],1),o("v-list-item",{attrs:{to:"/proveedores"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Proveedores ")],1)],1)],1)],1)]:t._e(),"ADMIN_ROL"==this.$store.state.rol||"VENDEDOR_ROL"==this.$store.state.rol?[o("v-list-group",[o("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"#04253a",left:""}},[t._v("point_of_sale")]),t._v(" Ventas ")],1)],1)],1),o("v-list-item",{attrs:{to:"/ventas"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Ventas ")],1)],1)],1),o("v-list-item",{attrs:{to:"/clientes"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("view_list")]),t._v(" Clientes ")],1)],1)],1)],1)]:t._e(),"ADMIN_ROL"==this.$store.state.rol?[o("v-list-group",[o("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"#04253a",left:""}},[t._v("people_alt")]),t._v(" Accesos ")],1)],1)],1),o("v-list-item",{attrs:{to:"/usuario"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("people")]),t._v(" Usuarios ")],1)],1)],1)],1)]:t._e(),"ADMIN_ROL"==this.$store.state.rol||"ADMIN_ROL"==this.$store.state.rol?[o("v-list-group",[o("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"#04253a",left:""}},[t._v("storefront")]),t._v(" Consultas ")],1)],1)],1),o("v-list-item",{attrs:{to:"/consultaVenta"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("point_of_sale")]),t._v(" Consultas Ventas ")],1)],1)],1),o("v-list-item",{attrs:{to:"/consultaCompra"}},[o("v-list-item-content",[o("v-list-item-title",[o("v-icon",{staticClass:"icons_groups",attrs:{color:"rgba(4, 37, 58, 0.6)",left:"",small:""}},[t._v("shopping_cart")]),t._v(" Consultas Compras ")],1)],1)],1)],1)]:t._e()],2)],1)],1)],1)},n=[],c={data:function(){return{drawer:!1,group:null}}},l=c,d=o("2877"),m=o("6544"),u=o.n(m),v=o("40dc"),p=o("5bc1"),h=o("8336"),f=o("132d"),b=o("8860"),g=o("56b0"),_=o("da13"),C=o("5d23"),x=o("1baa"),k=o("f774"),I=o("2fa4"),D=Object(d["a"])(l,r,n,!1,null,"614cbc2c",null),y=D.exports;u()(D,{VAppBar:v["a"],VAppBarNavIcon:p["a"],VBtn:h["a"],VIcon:f["a"],VList:b["a"],VListGroup:g["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemGroup:x["a"],VListItemTitle:C["b"],VNavigationDrawer:k["a"],VSpacer:I["a"]});var j={name:"App",components:{Header:y}},V=j,T=o("7496"),A=o("f6c4"),E=Object(d["a"])(V,s,i,!1,null,null,null),w=E.exports;u()(E,{VApp:T["a"],VMain:A["a"]});var $=o("8c4f"),S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Componente Recovery")])])}],N={},O=N,F=Object(d["a"])(O,S,P,!1,null,"ee0a2d90",null),R=F.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"_login"}},[o("v-container",[o("v-card",{staticClass:"cardL",attrs:{width:"500",color:"rgb(255, 255, 255, 0.8)"}},[o("div",{staticClass:"app"},[o("v-app",{attrs:{id:"login"}},[o("v-form",{ref:"form"},[o("h1",[t._v("Inicio Sesión")]),o("v-text-field",{attrs:{label:"E-mail","append-icon":"email",solo:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("v-text-field",{attrs:{label:"Password","append-icon":"lock",type:"password",solo:""},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),o("v-btn",{attrs:{id:"btn_login",dark:"",color:"#04253a"},on:{click:function(e){return t.ingresar()}}},[t._v(" Ingresar ")]),o("br"),o("router-link",{staticClass:"recovery",attrs:{to:"/recovery"}},[t._v("¿Olvidó su contraseña?")])],1)],1)],1)])],1)],1)},U=[],M=o("bc3a"),z=o.n(M),B={data:function(){return{pass:"",email:""}},methods:{ingresar:function(){var t=this;z.a.post("usuario/login",{email:this.email,password:this.pass}).then((function(e){t.$store.dispatch("setToken",e.data.token),t.$store.dispatch("setRol",e.data.usuario.rol),t.$store.dispatch("setIdUser",e.data.usuario._id),console.log(e.data.usuario._id),t.$router.push("/grafica")})).catch((function(t){console.log(t.response)}))}}},K=B,W=(o("62c2"),o("b0af")),q=o("a523"),G=o("4bd4"),Y=o("8654"),H=Object(d["a"])(K,L,U,!1,null,"2a712e51",null),J=H.exports;u()(H,{VApp:T["a"],VBtn:h["a"],VCard:W["a"],VContainer:q["a"],VForm:G["a"],VTextField:Y["a"]});var Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Categorias")]),o("spacer"),o("v-text-field",{attrs:{id:"brSea","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Descripción"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Seguro que quieres eliminar esta categoria?")]),o("v-card-actions",{staticClass:"actions"},[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-pencil")]),a.estado?[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,a)}}},[t._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,a)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})},Q=[],X={data:function(){return{search:"",categorias:[],headers:[{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{nombre:"",descripcion:"",estado:0},id:"",dialog:!1,dialogActivar:!1,bd:0}},created:function(){this.listarCategorias(),console.log(this.$store.state.token)},methods:{listarCategorias:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("Categoria",e).then((function(e){console.log(e.data.categoria),t.categorias=e.data.categoria})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("categoria/desactivar/".concat(o),{estado:0},s).then((function(){a.listarCategorias()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("categoria/activar/".concat(o),{estado:1},r).then((function(){i.listarCategorias()})).catch((function(t){console.log(t)}))}},guardar:function(){var t=this;if(0==this.bd){console.log("guardando"+this.bd);var e={headers:{token:this.$store.state.token}},o=this;z.a.post("categoria",{nombre:this.editedItem.nombre,descripcion:this.editedItem.descripcion},e).then((function(e){console.log(e),o.listarCategorias(),t.limpiarCajas()})).catch((function(t){console.log(t.response)}))}else{var a=this,s={headers:{token:this.$store.state.token}};z.a.put("categoria/".concat(this.id),{nombre:this.editedItem.nombre,descripcion:this.editedItaaem.descripcion},s).then((function(){a.listarCategorias(),a.limpiarCajas()})).catch((function(t){console.log(t)}))}},editar:function(t){console.log(t),this.bd=1,this.id=t._id,this.editedItem.nombre=t.nombre,this.editedItem.descripcion=t.descripcion,this.dialog=!0},desactivar:function(){this.dialogActivar=!0},limpiarCajas:function(){this.editedItem.nombre="",this.editedItem.descripcion=""}}},tt=X,et=(o("9c37"),o("99d9")),ot=o("62ad"),at=o("8fea"),st=o("169a"),it=o("ce7e"),rt=o("0fd9"),nt=o("71d9"),ct=o("2a7f"),lt=Object(d["a"])(tt,Z,Q,!1,null,null,null),dt=lt.exports;u()(lt,{VBtn:h["a"],VCard:W["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Articulos")]),o("spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Código"},model:{value:t.editedItem.codigo,callback:function(e){t.$set(t.editedItem,"codigo",e)},expression:"editedItem.codigo"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[0==t.bd?o("v-select",{attrs:{items:t.categoria,"menu-props":{top:!0,offsetY:!0},label:"Categorias"},model:{value:t.editedItem.categoria.nombre,callback:function(e){t.$set(t.editedItem.categoria,"nombre",e)},expression:"editedItem.categoria.nombre"}}):t._e()],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Stock"},model:{value:t.editedItem.stock,callback:function(e){t.$set(t.editedItem,"stock",e)},expression:"editedItem.stock"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Precio Venta"},model:{value:t.editedItem.precioventa,callback:function(e){t.$set(t.editedItem,"precioventa",e)},expression:"editedItem.precioventa"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Descripción"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v(" Guardar ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Seguro que quieres eliminar este articulo?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-pencil ")]),a.estado?[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,a)}}},[t._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,a)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})},ut=[],vt=(o("d81d"),{data:function(){return{search:"",articulos:[],categoria:[],headers:[{text:"Código",value:"codigo"},{text:"Nombre",value:"nombre"},{text:"Categoria",value:"categoria.nombre"},{text:"Stock",value:"stock"},{text:"Precio",value:"precioventa"},{text:"Descripción",value:"descripcion"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{codigo:"",nombre:"",stock:"",precio:"",descripcion:"",categoria:""},id:"",dialog:!1,dialogActivar:!1,bd:0}},created:function(){this.listarArticulos(),this.selectCategoria(),console.log(this.$store.state.token)},methods:{listarArticulos:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("Articulo",e).then((function(e){console.log(e.data.articulo),t.articulos=e.data.articulo})).catch((function(t){console.log(t.response)}))},selectCategoria:function(){var t=this,e=[],o={headers:{token:this.$store.state.token}};z.a.get("categoria",o).then((function(o){e=o.data.categoria,e.map((function(e){t.categoria.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("articulo/desactivar/".concat(o),{estado:0},s).then((function(){a.listarArticulos()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("articulo/activar/".concat(o),{estado:1},r).then((function(){i.listarArticulos()})).catch((function(t){console.log(t)}))}},guardar:function(){var t=this;if(0==this.bd){console.log("guardando"+this.bd);var e={headers:{token:this.$store.state.token}},o=this;z.a.post("articulo",{codigo:this.editedItem.codigo,nombre:this.editedItem.nombre,categoria:this.editedItem.categoria,stock:this.editedItem.stock,precio:this.editedItem.precio,descripcion:this.editedItem.descripcion,estado:this.editedItem.estado},e).then((function(e){console.log(e),o.listarArticulos(),t.limpiarCajas()})).catch((function(t){console.log(t.response)}))}else{var a=this,s={headers:{token:this.$store.state.token}};z.a.put("articulo/".concat(this.id),{codigo:this.editedItem.codigo,nombre:this.editedItem.nombre,categoria:this.editedItem.categoria,stock:this.editedItem.stock,precio:this.editedItem.precio,descripcion:this.editedItem.descripcion,estado:this.editedItem.estado},s).then((function(){a.listarArticulos(),a.limpiarCajas()})).catch((function(t){console.log(t)}))}},editar:function(t){console.log(t),this.bd=1,this.id=t._id,this.editedItem.codigo=t.codigo,this.editedItem.nombre=t.nombre,this.editedItem.categoria=t.categoria,this.editedItem.stock=t.stock,this.editedItem.precio=t.precio,this.editedItem.descripcion=t.descripcion,this.editedItem.estado=t.estado,this.dialog=!0},desactivar:function(){this.dialogActivar=!0},limpiarCajas:function(){this.editedItem.codigo="",this.editedItem.nombre="",this.editedItem.categoria="",this.editedItem.stock="",this.editedItem.precio="",this.editedItem.descripcion="",this.editedItem.estado=""}}}),pt=vt,ht=o("b974"),ft=Object(d["a"])(pt,mt,ut,!1,null,null,null),bt=ft.exports;u()(ft,{VBtn:h["a"],VCard:W["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSelect:ht["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Usuarios")]),o("spacer"),o("v-text-field",{attrs:{id:"brSea","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-select",{attrs:{items:t.rol,label:"Rol"},model:{value:t.editedItem.rol,callback:function(e){t.$set(t.editedItem,"rol",e)},expression:"editedItem.rol"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-select",{attrs:{items:t.tipoDocumento,label:"Tipo Documento"},model:{value:t.editedItem.tipoDocumento,callback:function(e){t.$set(t.editedItem,"tipoDocumento",e)},expression:"editedItem.tipoDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.editedItem.numeroDocumento,callback:function(e){t.$set(t.editedItem,"numeroDocumento",e)},expression:"editedItem.numeroDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Dirección"},model:{value:t.editedItem.direccion,callback:function(e){t.$set(t.editedItem,"direccion",e)},expression:"editedItem.direccion"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.editedItem.telefono,callback:function(e){t.$set(t.editedItem,"telefono",e)},expression:"editedItem.telefono"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"E-mail"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Password"},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v(" Guardar ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[o("v-card",[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-pencil")]),a.estado?[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,a)}}},[t._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,a)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})},_t=[],Ct={data:function(){return{search:"",usuarios:[],rol:["ADMIN_ROL","VENDEDOR_ROL","ALMACENISTA_ROL"],tipoDocumento:["CC","RUP","PASAPORTE","CE"],headers:[{text:"Nombre",value:"nombre"},{text:"Rol",value:"rol"},{text:"Tipo Documento",value:"tipoDocumento"},{text:"Número Documento",value:"numeroDocumento"},{text:"Dirección",value:"direccion"},{text:"Teléfono",value:"telefono"},{text:"E-Mail",value:"email"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{nombre:"",rol:"",tipoDocumento:"",numeroDocumento:"",direccion:"",telefono:"",email:"",password:"",estado:0},id:"",dialog:!1,dialogActivar:!1,bd:0}},created:function(){this.listarUsuarios(),console.log(this.$store.state.token)},methods:{listarUsuarios:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("Usuario",e).then((function(e){console.log(e.data.usuarios),t.usuarios=e.data.usuarios})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("usuario/desactivar/".concat(o),{estado:0},s).then((function(){a.listarUsuarios()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("usuario/activar/".concat(o),{estado:1},r).then((function(){i.listarUsuarios()})).catch((function(t){console.log(t)}))}},guardar:function(){var t=this;if(0==this.bd){console.log("guardando"+this.bd);var e={headers:{token:this.$store.state.token}},o=this;z.a.post("usuario",{nombre:this.editedItem.nombre,rol:this.editedItem.rol,tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email,password:this.editedItem.password},e).then((function(e){console.log(e),o.listarUsuarios(),t.limpiarCajas()})).catch((function(t){console.log(t.response)}))}else{var a=this,s={headers:{token:this.$store.state.token}};z.a.put("usuario/".concat(this.id),{nombre:this.editedItem.nombre,rol:this.editedItem.rol,tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email,password:this.editedItem.password},s).then((function(){a.listarUsuarios(),a.limpiarCajas()})).catch((function(t){console.log(t)}))}},editar:function(t){console.log(t),this.bd=1,this.id=t._id,this.editedItem.nombre=t.nombre,this.editedItem.rol=t.rol,this.editedItem.tipoDocumento=t.tipoDocumento,this.editedItem.numeroDocumento=t.numeroDocumento,this.editedItem.direccion=t.direccion,this.editedItem.telefono=t.telefono,this.editedItem.email=t.email,this.editedItem.password=t.password,this.dialog=!0},desactivar:function(){this.dialogActivar=!0},limpiarCajas:function(){this.editedItem.nombre="",this.editedItem.rol="",this.editedItem.tipoDocumento="",this.editedItem.numeroDocumento="",this.editedItem.direccion="",this.editedItem.telefono="",this.editedItem.email="",this.editedItem.password=""}}},xt=Ct,kt=Object(d["a"])(xt,gt,_t,!1,null,null,null),It=kt.exports;u()(kt,{VBtn:h["a"],VCard:W["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSelect:ht["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var Dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[0==t.muestra?o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.headers,items:t.ingresos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Ingresos")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(e){return t.crearPDF()}}},[t._v("mdi-download")]),o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:"",color:"#04253a"},on:{click:function(e){return t.cambioPage(1,!1)}}},[t._v("Nuevo")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.cambioPage(2,a)}}},[t._v("mdi-clipboard-outline ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarItem(2,a)}}},[t._v("mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarItem(1,a)}}},[t._v("mdi-block-helper")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}}],null,!0)}):t._e()],[1==t.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",{attrs:{fluid:""}},[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(e){return t.guardar2()}}},[t._v(" Generar venta")]),o("v-spacer"),o("v-btn",{staticClass:"mb-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.cambioPage(0,!1)}}},[t._v(" Cancelar")])],1),o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-autocomplete",{attrs:{items:t.tiposComprobantaVenta,label:"Tipo Comprobante"},model:{value:t.editedItem.tipo_comprobante,callback:function(e){t.$set(t.editedItem,"tipo_comprobante",e)},expression:"editedItem.tipo_comprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Serie comprobante"},model:{value:t.editedItem.serie_comprobante,callback:function(e){t.$set(t.editedItem,"serie_comprobante",e)},expression:"editedItem.serie_comprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",label:"Numero comprobante"},model:{value:t.editedItem.num_comprobante,callback:function(e){t.$set(t.editedItem,"num_comprobante",e)},expression:"editedItem.num_comprobante"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"8"}},[o("v-autocomplete",{attrs:{items:t.proveedores,label:"Proveedor"},model:{value:t.editedItem.persona,callback:function(e){t.$set(t.editedItem,"persona",e)},expression:"editedItem.persona"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",default:"0",label:"Impuesto"},model:{value:t.editedItem.impuesto,callback:function(e){t.$set(t.editedItem,"impuesto",e)},expression:"editedItem.impuesto"}})],1)],1),o("v-row",[o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total parcial : "+t._s(t.totalVendido))])])]),o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total impuesto : "+t._s(t.TotalFinalImpuesto))])])]),o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total neto : "+t._s(t.totalVendido+t.TotalFinalImpuesto))])])])],1),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.mostradorArticulosTitle,items:t.mostradorArticulos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Articulos")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.facturar(a)}}},[t._v("mdi-cart ")])]}}],null,!0)})],1),o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.facturaArticulosTitle,items:t.facturaArticulos},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Carrito")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.cantidad",fn:function(e){return[o("v-text-field",{attrs:{default:"1",min:"0",name:"quantity",outlined:"",type:"number"},model:{value:e.item.cantidad,callback:function(o){t.$set(e.item,"cantidad",o)},expression:"props.item.cantidad"}})]}},{key:"item.subtotal",fn:function(e){var o=e.item;return[t._v(" "+t._s(o.precio*o.cantidad)+" ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.desfacturar(a)}}},[t._v("mdi-delete ")])]}}],null,!0)})],1)],1)],1)],1):t._e()],[2==t.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",[o("v-row",[o("v-btn",{attrs:{dark:"",color:"#04253a"},on:{click:function(e){return t.cambioPage(0,!1)}}},[t._v("Volver")]),o("v-spacer"),o("v-btn",{attrs:{color:"#04253a",dark:""}},[t._v(" Descargar "),o("v-icon",{staticClass:"mr-4",attrs:{medium:"",right:""},on:{click:function(e){return t.crearPDFVenta()}}},[t._v("mdi-download ")])],1)],1)],1),[o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Fecha : "+t._s(t.ventaConDetalleFecha)+" ")])]),o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("span",{staticClass:"black--text"},[t._v("Estado: "+t._s(t.ventaConDetalleEstado))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("p",{attrs:{align:"left"}},[o("strong",[t._v("Cliente: ")]),t._v(t._s(t.datosCliente.nombre)),o("br"),o("strong",[t._v("Tipo documento: ")]),t._v(t._s(t.datosCliente.tipoDocumento)),o("br"),o("strong",[t._v("Número documento: ")]),t._v(t._s(t.datosCliente.numeroDocumento)),o("br"),o("strong",[t._v("Email: ")]),t._v(t._s(t.datosCliente.email)),o("br"),o("strong",[t._v("Telefono: ")]),t._v(t._s(t.datosCliente.telefono)),o("br"),o("strong",[t._v("Direccion: ")]),t._v(t._s(t.datosCliente.direccion)),o("br"),o("br"),o("strong",[t._v("Vendedor: ")]),t._v(" "+t._s(t.datosUsuario.nombre)),o("br"),o("strong",[t._v("Tipo Comprobante: ")]),t._v(" "+t._s(t.ventaConDetalleTipoComp)),o("br"),o("strong",[t._v("Serie: ")]),t._v(" "+t._s(t.ventaConDetalleSerie)),o("br"),o("strong",[t._v("Número Comprobante: ")]),t._v(" "+t._s(t.ventaConDetalleNumComp)),o("br"),o("br"),o("strong",[t._v("Total parcial: ")]),t._v(t._s(t.ventaConDetalleTotal)),o("br"),o("strong",[t._v("Total impuesto("+t._s(100*t.ventaConDetalleImpuesto)+"%): ")]),t._v(t._s(t.ventaConDetalleTotal*t.ventaConDetalleImpuesto)+" "),o("br"),o("strong",[t._v("Total Neto: ")]),t._v(" "+t._s(t.ventaConDetalleTotal+t.ventaConDetalleTotal*t.ventaConDetalleImpuesto)+" ")])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:t.articulosVendidos,items:t.articuloIncluido},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Articulos Ingresados")])],1)]},proxy:!0}],null,!1,2830033472)})],1)],1)]],2):t._e()]],2)],1)},yt=[],jt=(o("99af"),o("a434"),o("13d5"),o("b680"),o("3d20")),Vt=o.n(jt),Tt=o("8baf"),At=(o("0da4"),{data:function(){return{drawer:!1,search:"",muestra:0,msgError:"",headers:[{text:"Fecha",value:"createAt"},{text:"Usuario",value:"usuario.nombre",width:"10%"},{text:"Proveedor",value:"persona.nombre"},{text:"Tipo Comprobante",value:"tipo_comprobante",width:"10%"},{text:"Serie Comprobante",value:"serie_comprobante",width:"10%"},{text:"Número Comprobante",value:"num_comprobante",width:"10%"},{text:"Impuesto",value:"impuesto",width:"10%"},{text:"Total",value:"total",width:"10%"},{text:"Estado",value:"estado",width:"10%"},{text:"Acciones",value:"actions",sortable:!1,width:"10%"}],ingresos:[{usuario:"",persona:"",tipo_comprobante:"",serie_comprobante:"",num_comprobante:"",impuesto:0,total:0,detalles:"",createAt:""}],ventaConDetalleFecha:"",ventaConDetalleEstado:"",ventaConDetalleCliente:"",ventaConDetalleVendedor:"",ventaConDetalleTipoComp:"",ventaConDetalleSerie:"",ventaConDetalleNumComp:"",ventaConDetalleImpuesto:"",ventaConDetalleTotal:"",ventaConDetalleDetalles:[],datosCliente:{},datosUsuario:{},articulosVendidos:[{text:"Nombre",value:"articulo"},{text:"Cantidad",value:"cantidad"},{text:"Precio uni.",value:"precio"},{text:"Precio total",value:"precioTotal"}],artiVendidos:[{_id:"",articulo:"",cantidad:"",precio:""}],articuloIncluido:[{_id:"",articulo:"",cantidad:"",precio:"",precioTotal:""}],editedItem:{persona:"",tipo_comprobante:"",serie_comprobante:"",num_comprobante:"",impuesto:"",total:"",detalles:[]},tiposComprobantaVenta:["FACTURA","NOTA DEBITO","NOTA CREDITO"],proveedores:[],mostradorArticulosTitle:[{text:"Codigo",value:"codigo",sortable:!1},{text:"Nombre",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Agregar",value:"actions",sortable:!1}],mostradorArticulosLlegar:[{_id:"",estado:"",codigo:"",articulo:"",precio:0,cantidad:0}],mostradorArticulos:[{_id:"",codigo:"",articulo:"",precio:0,cantidad:0}],facturaArticulosTitle:[{text:"Nombre",value:"articulo",width:"15%",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Sub total",value:"subtotal",sortable:!1},{text:"Eliminar",value:"actions",sortable:!1}],facturaArticulos:[],editedIndex:-1,bd:0}},created:function(){this.listarIngresos()},methods:{msjcompra:function(t){Vt.a.fire({position:"top",icon:"error",title:t,showConfirmButton:!1,timer:2e3})},listo:function(){Vt.a.fire({position:"top",icon:"success",title:"Venta realizada",showConfirmButton:!1,timer:2e3})},cambioPage:function(t,e){0==t?this.muestra=t:1==t?(this.muestra=t,this.obtenerPersonas(),this.obtenerArtirticulos()):(this.muestra=t,this.traerVentaDetalle(e))},listarIngresos:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("ingreso",e).then((function(e){console.log(e.data.compra),t.ingresos=e.data.compra})).catch((function(t){console.log(t.response)}))},activarDesactivarItem:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("ingreso/desactivar/".concat(o),{},s).then((function(){a.listarIngresos()})).catch((function(t){console.log(t),t.response.data.msg?(this.msgError=t.response.data.msg,console.log(t.response.data.msg),this.msgError=t.response.data.msg,this.msjcompra(this.msgError)):(console.log(t.response),this.msgError=t.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("ingreso/activar/".concat(o),{},r).then((function(){i.listarIngresos()})).catch((function(t){console.log(t),t.response.data.msg?(this.msgError=t.response.data.msg,console.log(t.response.data.msg),this.msgError=t.response.data.msg,this.msjcompra(this.msgError)):(console.log(t.response),this.msgError=t.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var t=[];this.ventas.map((function(e){t.push({createAt:e.createAt,usuario:e.usuario.nombre,persona:e.persona.nombre,tipoComprobante:e.tipoComprobante,serieComprobante:e.serieComprobante,numComprobante:e.numComprobante,impuesto:e.impuesto,total:e.total})}));var e=new Tt["default"];e.autoTable({didDrawPage:function(){e.text("Lista de Ventas",14,10)},columnStyles:{0:{cellWidth:22},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"},5:{cellWidth:"auto"},6:{cellWidth:"auto"},7:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:t,columns:[{title:"CreatedAt",dataKey:"createAt"},{title:"Usuario",dataKey:"usuario"},{title:"Persona",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie Comprobante",dataKey:"serieComprobante"},{title:"# Comprobante",dataKey:"numComprobante"},{title:"Impusto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}]}),e.save("Ventas.pdf")},traerVentaDetalle:function(t){var e=this,o=t._id;console.log(o);var a={headers:{token:this.$store.state.token}};z.a.get("ingreso/".concat(o),a).then((function(t){e.ventaConDetalleFecha=t.data.compra.createAt,e.ventaConDetalleEstado=t.data.compra.estado,e.ventaConDetalleCliente=t.data.compra.persona,e.ventaConDetalleVendedor=t.data.compra.usuario,e.ventaConDetalleTipoComp=t.data.compra.tipo_comprobante,e.ventaConDetalleSerie=t.data.compra.serie_comprobante,e.ventaConDetalleNumComp=t.data.compra.num_comprobante,e.ventaConDetalleImpuesto=t.data.compra.impuesto,e.ventaConDetalleTotal=t.data.compra.total,e.ventaConDetalleDetalles=t.data.compra.detalles,e.artiVendidos=e.ventaConDetalleDetalles,e.meter(e.ventaConDetalleDetalles),e.traerCliente(e.ventaConDetalleCliente),e.traerUsuario(e.ventaConDetalleVendedor)})).catch((function(t){t.response.data.msg?(e.msgError=t.response.data.msg,e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},traerCliente:function(t){var e=this,o=t,a={headers:{token:this.$store.state.token}};z.a.get("persona/".concat(o),a).then((function(t){console.log("persona"),console.log(t),e.datosCliente=t.data.persona})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},traerUsuario:function(t){var e=this,o=t,a={headers:{token:this.$store.state.token}};z.a.get("usuario/".concat(o),a).then((function(t){console.log("usuario"),console.log(t),e.datosUsuario=t.data.usuario})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},meter:function(t){var e=[];t.map((function(t){e.push({_id:t._id,articulo:t.articulo,cantidad:t.cantidad,precio:t.precio,precioTotal:t.cantidad*t.precio})})),this.articuloIncluido=e},crearPDFVenta:function(){var t=new Tt["default"],e=[];this.ventaConDetalleDetalles.map((function(t){e.push({nombre:t.nombre,cantidad:t.cantidad,precio:t.precio,precioSub:t.precio*t.cantidad})})),t.setFontSize(11),t.text("Fecha : ".concat(this.ventaConDetalleFecha),15,15),t.text("Estado : ".concat(this.ventaConDetalleEstado),150,15),t.text("Cliente :                 ".concat(this.ventaConDetalleCliente.nombre),15,35),t.text("Tipo documento :   ".concat(this.datosCliente.tipoDocumento),15,40),t.text("Num documento :   ".concat(this.datosCliente.numDocumento),15,45),t.text("Email :                     ".concat(this.datosCliente.email),15,50),t.text("Telefono :                ".concat(this.datosCliente.telefono),15,55),t.text("Direccion :               ".concat(this.datosCliente.direccion),15,60),t.text("Vendedor :               ".concat(this.ventaConDetalleVendedor.nombre),15,70),t.text("Tipo comprobante :  ".concat(this.ventaConDetalleTipoComp),15,75),t.text("Serie :                      ".concat(this.ventaConDetalleSerie),15,80),t.text("# Comprobante :      ".concat(this.ventaConDetalleNumComp),15,85),t.text("Total parcial:           ".concat(this.ventaConDetalleTotal," "),15,95),t.text("Impuesto (".concat(this.ventaConDetalleImpuesto,") :            ").concat(this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,100),t.text("Total Neto:              ".concat(this.ventaConDetalleTotal+this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,105),t.autoTable({didDrawPage:function(){t.text("Articulos vendidos:",15,115)},startY:120,columnStyles:{0:{cellWidth:40},1:{cellWidth:40},2:{cellWidth:40},3:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{header:"Articulo",dataKey:"nombre"},{header:"Cantidad",dataKey:"cantidad"},{header:"Precio Uni",dataKey:"precio"},{header:"Precio Total",dataKey:"precioSub"}],cursor:{x:15,y:115}}),t.save("Factura de venta.pdf")},obtenerPersonas:function(){var t=this,e=this,o=[],a={headers:{token:this.$store.state.token}};z.a.get("persona/listProveedores/proveedor",a).then((function(t){console.log(t.data.proveedor),o=t.data.proveedor,o.map((function(t){1==t.estado&&e.proveedores.push({text:t.nombre,value:t._id})}))})).catch((function(e){console.log(e.response),e.response.data?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},meterArticulos:function(t){var e=[];t.map((function(t){0!=t.estado&&t.stock>0&&e.push({_id:t._id,codigo:t.codigo,articulo:t.nombre,precio:t.precioventa,cantidad:t.stock})})),this.mostradorArticulos=e},obtenerArtirticulos:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("articulo",e).then((function(e){console.log(e),t.mostradorArticulosLlegar=e.data.articulo,t.meterArticulos(t.mostradorArticulosLlegar)})).catch((function(t){console.log(t.response)}))},facturar:function(t){this.editedIndex=this.mostradorArticulos.indexOf(t),this.facturaArticulos.push(t),this.mostradorArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},desfacturar:function(t){this.editedIndex=this.facturaArticulos.indexOf(t),this.mostradorArticulos.push(t),this.facturaArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},guardar2:function(){var t=this.$store.state.idUser,e=this.editedItem.persona,o=this.editedItem.tipo_comprobante,a=this.editedItem.serie_comprobante,s=this.editedItem.num_comprobante,i=this.editedItem.impuesto/100,r=this.totalVendido,n=this.facturaArticulos;console.log(t),console.log(e),console.log(o),console.log(a),console.log(s),console.log(i),console.log(r),console.log(n),this.guardar(t,e,o,a,s,i,r,n)},guardar:function(t,e,o,a,s,i,r,n){var c=this;console.log("estoy guardando"+this.bd);var l={headers:{token:this.$store.state.token}};z.a.post("ingreso",{usuario:t,persona:e,tipo_comprobante:o,serie_comprobante:a,num_comprobante:s,impuesto:i,total:r,detalles:n},l).then((function(t){console.log(t),c.listarIngresos(),c.obtenerPersonas(),c.obtenerArtirticulos(),c.reset(),c.listo()})).catch((function(t){console.log(t.response)}))},reset:function(){this.editedItem.persona="",this.editedItem.tipo_comprobante="",this.editedItem.serie_comprobante="",this.editedItem.num_comprobante="",this.editedItem.impuesto="",this.editedItem.total="",this.facturaArticulos=[]}},computed:{totalVentas:function(){return this.ventas.reduce((function(t,e){return t+parseFloat(e.total)}),0)},totalVendido:function(){return this.facturaArticulos.reduce((function(t,e){return t+parseInt(e.cantidad)*e.precio}),0)},TotalFinalImpuesto:function(){if(!this.editedItem.impuesto)return 0;var t=this.totalVendido*this.editedItem.impuesto/100;return t.toFixed(2)}}}),Et=At,wt=(o("d4ea"),o("c6a6")),$t=Object(d["a"])(Et,Dt,yt,!1,null,null,null),St=$t.exports;u()($t,{VApp:T["a"],VAutocomplete:wt["a"],VBtn:h["a"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var Pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-container",{attrs:{fluid:""}},[[0==t.muestra?o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.headers,items:t.ventas,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Ventas")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-icon",{staticClass:"mr-4",attrs:{medium:""},on:{click:function(e){return t.crearPDF()}}},[t._v("mdi-download")]),o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:"",color:"#04253a"},on:{click:function(e){return t.cambioPage(1,!1)}}},[t._v("Nuevo")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.cambioPage(2,a)}}},[t._v("mdi-clipboard-outline ")]),a.estado?[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarItem(2,a)}}},[t._v("mdi-check")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarItem(1,a)}}},[t._v("mdi-block-helper")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}}],null,!0)}):t._e()],[1==t.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",{attrs:{fluid:""}},[o("v-row",[o("v-btn",{staticClass:"mb-2",attrs:{depressed:"",dark:""},on:{click:function(e){return t.guardar2()}}},[t._v(" Generar venta")]),o("v-spacer"),o("v-btn",{staticClass:"mb-2",attrs:{color:"red",dark:""},on:{click:function(e){return t.cambioPage(0,!1)}}},[t._v(" Cancelar")])],1),o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-autocomplete",{attrs:{items:t.tiposComprobantaVenta,label:"Tipo Comprobante"},model:{value:t.editedItem.tipo_comprobante,callback:function(e){t.$set(t.editedItem,"tipo_comprobante",e)},expression:"editedItem.tipo_comprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Serie comprobante"},model:{value:t.editedItem.serie_comprobante,callback:function(e){t.$set(t.editedItem,"serie_comprobante",e)},expression:"editedItem.serie_comprobante"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",label:"Numero comprobante"},model:{value:t.editedItem.num_comprobante,callback:function(e){t.$set(t.editedItem,"num_comprobante",e)},expression:"editedItem.num_comprobante"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"8"}},[o("v-autocomplete",{attrs:{items:t.clientes,label:"Cliente"},model:{value:t.editedItem.persona,callback:function(e){t.$set(t.editedItem,"persona",e)},expression:"editedItem.persona"}})],1),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{type:"number",min:"0",default:"0",label:"Impuesto"},model:{value:t.editedItem.impuesto,callback:function(e){t.$set(t.editedItem,"impuesto",e)},expression:"editedItem.impuesto"}})],1)],1),o("v-row",[o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total parcial : "+t._s(t.totalVendido))])])]),o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total impuesto : "+t._s(t.TotalFinalImpuesto))])])]),o("v-col",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Total neto : "+t._s(t.totalVendido+t.TotalFinalImpuesto))])])])],1),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.mostradorArticulosTitle,items:t.mostradorArticulos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Articulos")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.facturar(a)}}},[t._v("mdi-cart ")])]}}],null,!0)})],1),o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15",attrs:{headers:t.facturaArticulosTitle,items:t.facturaArticulos},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Carrito")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.cantidad",fn:function(e){return[o("v-text-field",{attrs:{default:"1",min:"0",name:"quantity",outlined:"",type:"number"},model:{value:e.item.cantidad,callback:function(o){t.$set(e.item,"cantidad",o)},expression:"props.item.cantidad"}})]}},{key:"item.subtotal",fn:function(e){var o=e.item;return[t._v(" "+t._s(o.precio*o.cantidad)+" ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.desfacturar(a)}}},[t._v("mdi-delete ")])]}}],null,!0)})],1)],1)],1)],1):t._e()],[2==t.muestra?o("div",{staticClass:"container pa-4 white grid-list-sm"},[o("v-container",[o("v-row",[o("v-btn",{attrs:{dark:"",color:"#04253a"},on:{click:function(e){return t.cambioPage(0,!1)}}},[t._v("Volver")]),o("v-spacer"),o("v-btn",{attrs:{color:"#04253a",dark:""}},[t._v(" Descargar "),o("v-icon",{staticClass:"mr-4",attrs:{medium:"",right:""},on:{click:function(e){return t.crearPDFVenta()}}},[t._v("mdi-download ")])],1)],1)],1),[o("v-row",[o("div",{staticStyle:{margin:"30px 50px 10px 20px"}},[o("span",{staticClass:"black--text"},[t._v("Fecha : "+t._s(t.ventaConDetalleFecha)+" ")])]),o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("span",{staticClass:"black--text"},[t._v("Estado: "+t._s(t.ventaConDetalleEstado))])])]),o("v-row",[o("div",{staticStyle:{margin:"30px 0 0 20px"}},[o("p",{attrs:{align:"left"}},[o("strong",[t._v("Cliente: ")]),t._v(t._s(t.datosCliente.nombre)),o("br"),o("strong",[t._v("Tipo documento: ")]),t._v(t._s(t.datosCliente.tipoDocumento)),o("br"),o("strong",[t._v("Número documento: ")]),t._v(t._s(t.datosCliente.numeroDocumento)),o("br"),o("strong",[t._v("Email: ")]),t._v(t._s(t.datosCliente.email)),o("br"),o("strong",[t._v("Telefono: ")]),t._v(t._s(t.datosCliente.telefono)),o("br"),o("strong",[t._v("Direccion: ")]),t._v(t._s(t.datosCliente.direccion)),o("br"),o("br"),o("strong",[t._v("Vendedor: ")]),t._v(" "+t._s(t.datosUsuario.nombre)),o("br"),o("strong",[t._v("Tipo Comprobante: ")]),t._v(" "+t._s(t.ventaConDetalleTipoComp)),o("br"),o("strong",[t._v("Serie: ")]),t._v(" "+t._s(t.ventaConDetalleSerie)),o("br"),o("strong",[t._v("Número Comprobante: ")]),t._v(" "+t._s(t.ventaConDetalleNumComp)),o("br"),o("br"),o("strong",[t._v("Total parcial: ")]),t._v(t._s(t.ventaConDetalleTotal)),o("br"),o("strong",[t._v("Total impuesto("+t._s(100*t.ventaConDetalleImpuesto)+"%): ")]),t._v(t._s(t.ventaConDetalleTotal*t.ventaConDetalleImpuesto)+" "),o("br"),o("strong",[t._v("Total Neto: ")]),t._v(" "+t._s(t.ventaConDetalleTotal+t.ventaConDetalleTotal*t.ventaConDetalleImpuesto)+" ")])])]),o("v-row",[o("v-col",[o("v-data-table",{staticClass:"ancho-tabla elevation-15 ",attrs:{headers:t.articulosVendidos,items:t.articuloIncluido},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[t._v("Articulos vendidos")])],1)]},proxy:!0}],null,!1,4137086677)})],1)],1)]],2):t._e()]],2)],1)},Nt=[],Ot={data:function(){return{drawer:!1,search:"",muestra:0,msgError:"",headers:[{text:"Fecha",value:"createAt"},{text:"Vendedor",value:"usuario.nombre",width:"10%"},{text:"Cliente",value:"persona.nombre"},{text:"Tipo Comprobante",value:"tipo_comprobante",width:"10%"},{text:"Serie Comprobante",value:"serie_comprobante",width:"10%"},{text:"Número Comprobante",value:"num_comprobante",width:"10%"},{text:"Impuesto",value:"impuesto",width:"10%"},{text:"Total",value:"total",width:"10%"},{text:"Estado",value:"estado",width:"10%"},{text:"Acciones",value:"actions",sortable:!1,width:"10%"}],ventas:[{usuario:"",persona:"",tipo_comprobante:"",serie_comprobante:"",num_comprobante:"",impuesto:0,total:0,detalles:"",createAt:""}],ventaConDetalleFecha:"",ventaConDetalleEstado:"",ventaConDetalleCliente:"",ventaConDetalleVendedor:"",ventaConDetalleTipoComp:"",ventaConDetalleSerie:"",ventaConDetalleNumComp:"",ventaConDetalleImpuesto:"",ventaConDetalleTotal:"",ventaConDetalleDetalles:[],datosCliente:{},datosUsuario:{},articulosVendidos:[{text:"Nombre",value:"articulo"},{text:"Cantidad",value:"cantidad"},{text:"Precio uni.",value:"precio"},{text:"Precio total",value:"precioTotal"}],artiVendidos:[{_id:"",articulo:"",cantidad:"",precio:""}],articuloIncluido:[{_id:"",articulo:"",cantidad:"",precio:"",precioTotal:""}],editedItem:{persona:"",tipo_comprobante:"",serie_comprobante:"",num_comprobante:"",impuesto:"",total:"",detalles:[]},tiposComprobantaVenta:["FACTURA","NOTA DEBITO","NOTA CREDITO"],clientes:[],mostradorArticulosTitle:[{text:"Codigo",value:"codigo",sortable:!1},{text:"Nombre",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Agregar",value:"actions",sortable:!1}],mostradorArticulosLlegar:[{_id:"",estado:"",codigo:"",articulo:"",precio:0,cantidad:0}],mostradorArticulos:[{_id:"",codigo:"",articulo:"",precio:0,cantidad:0}],facturaArticulosTitle:[{text:"Nombre",value:"articulo",width:"15%",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Sub total",value:"subtotal",sortable:!1},{text:"Eliminar",value:"actions",sortable:!1}],facturaArticulos:[],editedIndex:-1,bd:0}},created:function(){this.obtenerVenta()},methods:{msjcompra:function(t){Vt.a.fire({position:"top",icon:"error",title:t,showConfirmButton:!1,timer:2e3})},listo:function(){Vt.a.fire({position:"top",icon:"success",title:"Venta realizada",showConfirmButton:!1,timer:2e3})},cambioPage:function(t,e){0==t?this.muestra=t:1==t?(this.muestra=t,this.obtenerPersonas(),this.obtenerArtirticulos()):(this.muestra=t,this.traerVentaDetalle(e))},obtenerVenta:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("Venta",e).then((function(e){console.log(e.data.venta),t.ventas=e.data.venta})).catch((function(t){console.log(t.response)}))},activarDesactivarItem:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("venta/desactivar/".concat(o),{},s).then((function(){a.obtenerVenta()})).catch((function(t){console.log(t),t.response.data.msg?(this.msgError=t.response.data.msg,console.log(t.response.data.msg),this.msgError=t.response.data.msg,this.msjcompra(this.msgError)):(console.log(t.response),this.msgError=t.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("venta/activar/".concat(o),{},r).then((function(){i.obtenerVenta()})).catch((function(t){console.log(t),t.response.data.msg?(this.msgError=t.response.data.msg,console.log(t.response.data.msg),this.msgError=t.response.data.msg,this.msjcompra(this.msgError)):(console.log(t.response),this.msgError=t.response.data.errors[0].msg,this.msjcompra(this.msgError))}))}},crearPDF:function(){var t=[];this.ventas.map((function(e){t.push({createAt:e.createAt,usuario:e.usuario.nombre,persona:e.persona.nombre,tipoComprobante:e.tipoComprobante,serieComprobante:e.serieComprobante,numComprobante:e.numComprobante,impuesto:e.impuesto,total:e.total})}));var e=new Tt["default"];e.autoTable({didDrawPage:function(){e.text("Lista de Ventas",14,10)},columnStyles:{0:{cellWidth:22},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"},5:{cellWidth:"auto"},6:{cellWidth:"auto"},7:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:t,columns:[{title:"CreatedAt",dataKey:"createAt"},{title:"Usuario",dataKey:"usuario"},{title:"Persona",dataKey:"persona"},{title:"Tipo Comprobante",dataKey:"tipoComprobante"},{title:"Serie Comprobante",dataKey:"serieComprobante"},{title:"# Comprobante",dataKey:"numComprobante"},{title:"Impusto",dataKey:"impuesto"},{title:"Total",dataKey:"total"}]}),e.save("Ventas.pdf")},traerVentaDetalle:function(t){var e=this,o=t._id,a={headers:{token:this.$store.state.token}};z.a.get("venta/".concat(o),a).then((function(t){e.ventaConDetalleFecha=t.data.venta.createAt,e.ventaConDetalleEstado=t.data.venta.estado,e.ventaConDetalleCliente=t.data.venta.persona,e.ventaConDetalleVendedor=t.data.venta.usuario,e.ventaConDetalleTipoComp=t.data.venta.tipo_comprobante,e.ventaConDetalleSerie=t.data.venta.serie_comprobante,e.ventaConDetalleNumComp=t.data.venta.num_comprobante,e.ventaConDetalleImpuesto=t.data.venta.impuesto,e.ventaConDetalleTotal=t.data.venta.total,e.ventaConDetalleDetalles=t.data.venta.detalles,e.artiVendidos=e.ventaConDetalleDetalles,e.meter(e.ventaConDetalleDetalles),e.traerCliente(e.ventaConDetalleCliente),e.traerUsuario(e.ventaConDetalleVendedor)})).catch((function(t){t.response.data.msg?(e.msgError=t.response.data.msg,e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},traerCliente:function(t){var e=this,o=t,a={headers:{token:this.$store.state.token}};z.a.get("persona/".concat(o),a).then((function(t){console.log("persona"),console.log(t),e.datosCliente=t.data.persona})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},traerUsuario:function(t){var e=this,o=t,a={headers:{token:this.$store.state.token}};z.a.get("usuario/".concat(o),a).then((function(t){console.log("usuario"),console.log(t),e.datosUsuario=t.data.usuario})).catch((function(t){console.log(t.response),t.response.data.msg?(e.msgError=t.response.data.msg,console.log(t.response.data.msg),e.msgError=t.response.data.msg,e.msjcompra(e.msgError)):(console.log(t.response),e.msgError=t.response.data.errors[0].msg,e.msjcompra(e.msgError))}))},meter:function(t){var e=[];t.map((function(t){e.push({_id:t._id,articulo:t.articulo,cantidad:t.cantidad,precio:t.precio,precioTotal:t.cantidad*t.precio})})),this.articuloIncluido=e},crearPDFVenta:function(){var t=new Tt["default"],e=[];this.ventaConDetalleDetalles.map((function(t){e.push({nombre:t.nombre,cantidad:t.cantidad,precio:t.precio,precioSub:t.precio*t.cantidad})})),t.setFontSize(11),t.text("Fecha : ".concat(this.ventaConDetalleFecha),15,15),t.text("Estado : ".concat(this.ventaConDetalleEstado),150,15),t.text("Cliente :                 ".concat(this.ventaConDetalleCliente.nombre),15,35),t.text("Tipo documento :   ".concat(this.datosCliente.tipoDocumento),15,40),t.text("Num documento :   ".concat(this.datosCliente.numDocumento),15,45),t.text("Email :                     ".concat(this.datosCliente.email),15,50),t.text("Telefono :                ".concat(this.datosCliente.telefono),15,55),t.text("Direccion :               ".concat(this.datosCliente.direccion),15,60),t.text("Vendedor :               ".concat(this.ventaConDetalleVendedor.nombre),15,70),t.text("Tipo comprobante :  ".concat(this.ventaConDetalleTipoComp),15,75),t.text("Serie :                      ".concat(this.ventaConDetalleSerie),15,80),t.text("# Comprobante :      ".concat(this.ventaConDetalleNumComp),15,85),t.text("Total parcial:           ".concat(this.ventaConDetalleTotal," "),15,95),t.text("Impuesto (".concat(this.ventaConDetalleImpuesto,") :            ").concat(this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,100),t.text("Total Neto:              ".concat(this.ventaConDetalleTotal+this.ventaConDetalleTotal*this.ventaConDetalleImpuesto),15,105),t.autoTable({didDrawPage:function(){t.text("Articulos vendidos:",15,115)},startY:120,columnStyles:{0:{cellWidth:40},1:{cellWidth:40},2:{cellWidth:40},3:{cellWidth:"auto"}},headStyles:{fillColor:"#23323a",textColor:"#B9F6CA",halign:"left"},body:e,columns:[{header:"Articulo",dataKey:"nombre"},{header:"Cantidad",dataKey:"cantidad"},{header:"Precio Uni",dataKey:"precio"},{header:"Precio Total",dataKey:"precioSub"}],cursor:{x:15,y:115}}),t.save("Factura de venta.pdf")},obtenerPersonas:function(){var t=this,e=this,o=[],a={headers:{token:this.$store.state.token}};z.a.get("persona/listClientes/cliente",a).then((function(t){console.log(t.data.clientes),o=t.data.clientes,o.map((function(t){1==t.estado&&e.clientes.push({text:t.nombre,value:t._id})}))})).catch((function(e){console.log(e.response),e.response.data?(t.msgError=e.response.data.msg,console.log(e.response.data.msg),t.msgError=e.response.data.msg,t.msjcompra(t.msgError)):(console.log(e.response),t.msgError=e.response.data.errors[0].msg,t.msjcompra(t.msgError))}))},meterArticulos:function(t){var e=[];t.map((function(t){0!=t.estado&&t.stock>0&&e.push({_id:t._id,codigo:t.codigo,articulo:t.nombre,precio:t.precioventa,cantidad:t.stock})})),console.log(e),this.mostradorArticulos=e},obtenerArtirticulos:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("articulo",e).then((function(e){console.log(e),t.mostradorArticulosLlegar=e.data.articulo,t.meterArticulos(t.mostradorArticulosLlegar)})).catch((function(t){console.log(t.response)}))},facturar:function(t){this.editedIndex=this.mostradorArticulos.indexOf(t),this.facturaArticulos.push(t),this.mostradorArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},desfacturar:function(t){this.editedIndex=this.facturaArticulos.indexOf(t),this.mostradorArticulos.push(t),this.facturaArticulos.splice(this.editedIndex,1),console.log(this.facturaArticulos),console.log(this.editedIndex)},guardar2:function(){var t=this.$store.state.idUser,e=this.editedItem.persona,o=this.editedItem.tipo_comprobante,a=this.editedItem.serie_comprobante,s=this.editedItem.num_comprobante,i=this.editedItem.impuesto/100,r=this.totalVendido,n=this.facturaArticulos;console.log(t),console.log(e),console.log(o),console.log(a),console.log(s),console.log(i),console.log(r),console.log(n),this.guardar(t,e,o,a,s,i,r,n)},guardar:function(t,e,o,a,s,i,r,n){var c=this;console.log("estoy guardando"+this.bd);var l={headers:{token:this.$store.state.token}};z.a.post("venta",{usuario:t,persona:e,tipo_comprobante:o,serie_comprobante:a,num_comprobante:s,impuesto:i,total:r,detalles:n},l).then((function(t){console.log(t),c.obtenerVenta(),c.obtenerPersonas(),c.obtenerArtirticulos(),c.reset(),c.listo()})).catch((function(t){console.log(t.response)}))},reset:function(){this.editedItem.persona="",this.editedItem.tipo_comprobante="",this.editedItem.serie_comprobante="",this.editedItem.num_comprobante="",this.editedItem.impuesto="",this.editedItem.total="",this.facturaArticulos=[]}},computed:{totalVentas:function(){return this.ventas.reduce((function(t,e){return t+parseFloat(e.total)}),0)},totalVendido:function(){return this.facturaArticulos.reduce((function(t,e){return t+parseInt(e.cantidad)*e.precio}),0)},TotalFinalImpuesto:function(){if(!this.editedItem.impuesto)return 0;var t=this.totalVendido*this.editedItem.impuesto/100;return t.toFixed(2)}}},Ft=Ot,Rt=(o("19b1"),Object(d["a"])(Ft,Pt,Nt,!1,null,null,null)),Lt=Rt.exports;u()(Rt,{VApp:T["a"],VAutocomplete:wt["a"],VBtn:h["a"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var Ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"daTable"},[o("v-data-table",{attrs:{headers:t.headers,items:t.proveedores,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Proveedores")]),o("spacer"),o("v-text-field",{attrs:{id:"brSea","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-select",{attrs:{items:t.tiposDocumento,label:"Tipo Documento"},model:{value:t.editedItem.tipoDocumento,callback:function(e){t.$set(t.editedItem,"tipoDocumento",e)},expression:"editedItem.tipoDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.editedItem.numeroDocumento,callback:function(e){t.$set(t.editedItem,"numeroDocumento",e)},expression:"editedItem.numeroDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Dirección"},model:{value:t.editedItem.direccion,callback:function(e){t.$set(t.editedItem,"direccion",e)},expression:"editedItem.direccion"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.editedItem.telefono,callback:function(e){t.$set(t.editedItem,"telefono",e)},expression:"editedItem.telefono"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"E-mail"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v(" Guardar ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"}},[o("v-card",[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-pencil ")]),a.estado?[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,a)}}},[t._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,a)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)},Mt=[],zt={data:function(){return{search:"",proveedores:[],headers:[{text:"Nombre",value:"nombre"},{text:"Tipo Persona",value:"tipoPersona"},{text:"Tipo Documento",value:"tipoDocumento"},{text:"Número Documento",value:"numeroDocumento"},{text:"Dirección",value:"direccion"},{text:"Teléfono",value:"telefono"},{text:"E-Mail",value:"email"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{nombre:"",tipoDocumento:"",numeroDocumento:"",direccion:"",telefono:"",email:""},tiposDocumento:["CC","NIT","PASAPORTE","CE"],id:"",dialog:!1,dialogActivar:!1,bd:0}},created:function(){this.listarProveedores(),console.log(this.$store.state.token)},methods:{listarProveedores:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("persona/listProveedores/proveedor",e).then((function(e){console.log(e.data.proveedor),t.proveedores=e.data.proveedor})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("persona/desactivar/".concat(o),{estado:0},s).then((function(){a.listarProveedores()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("persona/activar/".concat(o),{estado:1},r).then((function(){i.listarProveedores()})).catch((function(t){console.log(t)}))}},guardar:function(){var t=this;if(0==this.bd){console.log("guardando"+this.bd);var e={headers:{token:this.$store.state.token}},o=this;z.a.post("persona",{nombre:this.editedItem.nombre,tipoPersona:"PROVEEDOR",tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},e).then((function(e){console.log(e),o.listarProveedores(),t.limpiarCajas()})).catch((function(t){console.log(t.response)}))}else{var a=this,s={headers:{token:this.$store.state.token}};z.a.put("persona/".concat(this.id),{nombre:this.editedItem.nombre,tipoPersona:"PROVEEDOR",tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},s).then((function(){a.listarProveedores(),a.limpiarCajas()})).catch((function(t){console.log(t)}))}},editar:function(t){console.log(t),this.bd=1,this.id=t._id,this.editedItem.nombre=t.nombre,this.editedItem.tipoPersona=t.tipoPersona,this.editedItem.tipoDocumento=t.tipoDocumento,this.editedItem.numeroDocumento=t.numeroDocumento,this.editedItem.direccion=t.direccion,this.editedItem.telefono=t.telefono,this.editedItem.email=t.email,this.dialog=!0},desactivar:function(){this.dialogActivar=!0},limpiarCajas:function(){this.editedItem.nombre="",this.editedItem.tipoDocumento="",this.editedItem.numeroDocumento="",this.editedItem.direccion="",this.editedItem.telefono="",this.editedItem.email=""}}},Bt=zt,Kt=(o("73c1"),Object(d["a"])(Bt,Ut,Mt,!1,null,null,null)),Wt=Kt.exports;u()(Kt,{VBtn:h["a"],VCard:W["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSelect:ht["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clientes,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",{staticStyle:{"margin-right":"150px"}},[t._v("Clientes")]),o("spacer"),o("v-text-field",{attrs:{id:"brSea","append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-select",{attrs:{items:t.tipoDocumento,label:"Tipo Documento"},model:{value:t.editedItem.tipoDocumento,callback:function(e){t.$set(t.editedItem,"tipoDocumento",e)},expression:"editedItem.tipoDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.editedItem.numeroDocumento,callback:function(e){t.$set(t.editedItem,"numeroDocumento",e)},expression:"editedItem.numeroDocumento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Dirección"},model:{value:t.editedItem.direccion,callback:function(e){t.$set(t.editedItem,"direccion",e)},expression:"editedItem.direccion"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.editedItem.telefono,callback:function(e){t.$set(t.editedItem,"telefono",e)},expression:"editedItem.telefono"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{label:"E-mail"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Seguro que quieres eliminar este articulo?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),o("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-pencil ")]),a.estado?[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,a)}}},[t._v(" mdi-block-helper ")])]:[o("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,a)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var a=e.item;return[1==a.estado?o("span",{staticClass:"blue--text"},[t._v("Activo ")]):t._e(),0==a.estado?o("span",{staticClass:"red--text"},[t._v("Inactivo ")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})},Gt=[],Yt={data:function(){return{search:"",clientes:[],tiposPersona:["CLIENTE"],tipoDocumento:["CC","NIT","PASAPORTE","CE"],headers:[{text:"Nombre",value:"nombre"},{text:"Tipo Persona",value:"tipoPersona"},{text:"Tipo Documento",value:"tipoDocumento"},{text:"Número Documento",value:"numeroDocumento"},{text:"Dirección",value:"direccion"},{text:"Teléfono",value:"telefono"},{text:"E-Mail",value:"email"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{nombre:"",tipoDocumento:"",numeroDocumento:"",direccion:"",telefono:"",email:""},id:"",dialog:!1,dialogActivar:!1,bd:0}},created:function(){this.listarClientes(),console.log(this.$store.state.token)},methods:{listarClientes:function(){var t=this,e={headers:{token:this.$store.state.token}};z.a.get("persona/listClientes/cliente",e).then((function(e){console.log(e.data.cliente),t.clientes=e.data.clientes})).catch((function(t){console.log(t.response)}))},activarDesactivarMostrar:function(t,e){var o=e._id;if(console.log(t),2==t){console.log(o);var a=this,s={headers:{token:this.$store.state.token}};z.a.put("persona/desactivar/".concat(o),{estado:0},s).then((function(){a.listarClientes()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(o);var i=this,r={headers:{token:this.$store.state.token}};z.a.put("persona/activar/".concat(o),{estado:1},r).then((function(){i.listarClientes()})).catch((function(t){console.log(t)}))}},guardar:function(){var t=this;if(0==this.bd){console.log("guardando"+this.bd);var e={headers:{token:this.$store.state.token}},o=this;z.a.post("persona",{nombre:this.editedItem.nombre,tipoPersona:"CLIENTE",tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},e).then((function(e){console.log(e),o.listarClientes(),t.limpiarCajas()})).catch((function(t){console.log(t.response)}))}else{var a=this,s={headers:{token:this.$store.state.token}};z.a.put("persona/".concat(this.id),{nombre:this.editedItem.nombre,tipoPersona:"CLIENTE",tipoDocumento:this.editedItem.tipoDocumento,numeroDocumento:this.editedItem.numeroDocumento,direccion:this.editedItem.direccion,telefono:this.editedItem.telefono,email:this.editedItem.email},s).then((function(){a.listarClientes(),a.limpiarCajas()})).catch((function(t){console.log(t)}))}},editar:function(t){console.log(t),this.bd=1,this.id=t._id,this.editedItem.nombre=t.nombre,this.editedItem.tipoPersona="CLIENTE",this.editedItem.tipoDocumento=t.tipoDocumento,this.editedItem.numeroDocumento=t.numeroDocumento,this.editedItem.direccion=t.direccion,this.editedItem.telefono=t.telefono,this.editedItem.email=t.email,this.dialog=!0},desactivar:function(){this.dialogActivar=!0},limpiarCajas:function(){this.editedItem.nombre="",this.editedItem.tipoDocumento="",this.editedItem.numeroDocumento="",this.editedItem.direccion="",this.editedItem.telefono="",this.editedItem.email=""}}},Ht=Yt,Jt=Object(d["a"])(Ht,qt,Gt,!1,null,null,null),Zt=Jt.exports;u()(Jt,{VBtn:h["a"],VCard:W["a"],VCardActions:et["a"],VCardText:et["b"],VCardTitle:et["c"],VCol:ot["a"],VContainer:q["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VIcon:f["a"],VRow:rt["a"],VSelect:ht["a"],VSpacer:I["a"],VTextField:Y["a"],VToolbar:nt["a"],VToolbarTitle:ct["a"]});var Qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Xt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ex2"},[o("canvas",{attrs:{id:"myChart"}})])}],te=o("1da1"),ee=(o("96cf"),o("30ef")),oe=o.n(ee),ae={data:function(){return{datos:[],stock:[]}},methods:{graficar:function(){var t=this;return Object(te["a"])(regeneratorRuntime.mark((function e(){var o,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t,a=[],s={headers:{token:t.$store.state.token}},e.next=5,z.a.get("articulo",s).then((function(t){a=t.data.articulo,console.log(t.data.articulo),a.map((function(t){o.datos.push(t.nombre),o.stock.push(t.stock)}))}));case 5:i=document.getElementById("myChart"),new oe.a(i,{type:"bar",data:{labels:o.datos,datasets:[{label:"Articulos",data:o.stock,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(25, 80, 130, 0.2)","rgba(25, 255, 12, 0.2)"],borderColor:["rgba(255,  99, 132, 1)","rgba( 54, 162, 235, 1)","rgba(255, 206,  86, 1)","rgba( 75, 192, 192, 1)","rgba( 25,  80, 130, 1)","rgba( 25, 255,  12, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.graficar()}},se=ae,ie=(o("a1e5"),Object(d["a"])(se,Qt,Xt,!1,null,null,null)),re=ie.exports,ne=[{path:"/",component:J},{path:"/grafica",component:re},{path:"/ventas",component:Lt},{path:"/recovery",component:R},{path:"/categorias",component:dt},{path:"/articulos",component:bt},{path:"/usuario",component:It},{path:"/ingresos",component:St},{path:"/proveedores",component:Wt},{path:"/clientes",component:Zt}],ce=o("f309");o("d1e78");a["a"].use(ce["a"]);var le=new ce["a"]({icons:{iconfont:"md"}}),de=o("2f62");a["a"].use(de["a"]);var me=new de["a"].Store({state:{token:"",rol:"",idUser:""},mutations:{setToken:function(t,e){t.token=e},setRol:function(t,e){t.rol=e},setIdUser:function(t,e){t.idUser=e}},actions:{setToken:function(t,e){t.commit("setToken",e)},setRol:function(t,e){t.commit("setRol",e)},setIdUser:function(t,e){t.commit("setIdUser",e)}}});a["a"].use($["a"]),a["a"].config.productionTip=!1,z.a.defaults.baseURL="https://fullstack-cv.herokuapp.com/api/";var ue=new $["a"]({routes:ne,mode:"history"});new a["a"]({render:function(t){return t(w)},store:me,vuetify:le,router:ue}).$mount("#app")},"5fba":function(t,e,o){},"62c2":function(t,e,o){"use strict";o("90c8")},"73c1":function(t,e,o){"use strict";o("fcfe")},"793d":function(t,e,o){},"90c8":function(t,e,o){},"9c37":function(t,e,o){"use strict";o("c1a7")},a1e5:function(t,e,o){"use strict";o("4d89")},c1a7:function(t,e,o){},d4ea:function(t,e,o){"use strict";o("793d")},fcfe:function(t,e,o){}});
//# sourceMappingURL=app.0e921a4f.js.map